
const A_unshift=(t,e)=>{let s=t.length;for(;s;)t[s]=t[s-1],--s;t[0]=e},A_splice=(t,e)=>{let s=t.length;if(s){for(;e<s;)t[e]=t[e+1],++e;--t.length}},A_indexOf=(t,e)=>{for(let s=0,o=t.length;s!=o;s++)if(t[s]===e)return s;return-1},A_lastIndexOf=(t,e)=>{let s=t.length;for(;s--&&t[s]!==e;);return s},A_fill=(t,e)=>{const s=new Array(t);for(;--t>=0;)s[t]=e;return s},DOM_getRootVar=t=>getComputedStyle(document.documentElement).getPropertyValue(t)||"",DOM_setRootVar=(t,e)=>{document.documentElement.style.setProperty(t,e)};function DOM_resetNode(t){for(var e=document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)}const DOM_getStyle=(t,e)=>{let s=document.getElementById(t);return s?window.getComputedStyle(s).getPropertyValue(e):""},DOM_getImgDim=t=>{const e=document.getElementById(t);return{width:e.getAttribute("data-src-width"),height:e.getAttribute("data-src-height")}};class DragElement{constructor(t,e){this.gapX=0,this.gapY=0,this.offsetX=0,this.offsetY=0,this.atX=0,this.atY=0,this.drag_e=t,this.keep_b=e||!1,this.start()}start(){this.drag_e.onmousedown=(t=>(this.loose=!1,this.gapX=t.clientX-this.offsetX,this.gapY=t.clientY-this.offsetY,this.drag_e.addEventListener("mousemove",this,!1),this.drag_e.addEventListener("mouseup",this,!1),!1))}disable(){this.loose=!0}handleEvent(t){return!this.loose&&("mousemove"===t.type?(this.atX=t.clientX-this.gapX,this.atY=t.clientY-this.gapY,this.offsetX=this.atX,this.offsetY=this.atY,this.drag_e.style.transform=`translate3d(${this.atX}px, ${this.atY}px, 0)`,!1):void("mouseup"===t.type&&(this.keep_b||(this.drag_e.removeEventListener("mousemove",this,!0),this.drag_e.removeEventListener("mouseup",this,!0)),this.loose=!0)))}}const RGB_H=(t,e,s)=>{const o=Math.min(t,e,s),i=Math.max(t,e,s);if(i===o)return 0;const a=i-o,n=i===t?(e-s)/a+(e<s?6:0):i===e?(s-t)/a+2:(t-e)/a+4;return Math.floor(60*n)},RGB_S=(t,e,s)=>{const o=Math.min(t,e,s),i=Math.max(t,e,s),a=i-o;if(!a)return 0;const n=o+i;return n>255?a/(510-i-o):a/n},RGB_L=(t,e,s)=>(Math.min(t,e,s)+Math.max(t,e,s))/510,HSL_RGB=(t,e,s)=>{let o,i,a;if(0===e)o=i=a=s;else{const n=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<.1666667?t+6*(e-t)*s:s<.5?e:s<.6666667?t+(e-t)*(.6666667-s)*6:t),r=s<.5?s*(1+e):s+e-s*e,l=2*s-r;o=n(l,r,(t/=360)+.3333334),i=n(l,r,t),a=n(l,r,t-.3333334)}return[o,i,a]},H_toMatrix=t=>{let e,s,o,i=DOM_getRootVar("--M3_FE_MATRIX");return t<0?e=s=o=DOM_getRootVar("--M3_FE_MATRIX_GRAY_VALUE"):(rgb_a=HSL_RGB(t,1,.5),e=rgb_a[0]+.5,s=rgb_a[1]+.5,o=rgb_a[2]+.5),i=i.replace("R",e).replace("G",s).replace("B",o)};class LogScale{constructor(t){this.minpos=t.minpos||0,this.minlval=Math.log(t.minval||1),this.maxlval=Math.log(t.maxval||1e5),this.scale=(this.maxlval-this.minlval)/(t.maxpos-this.minpos)}getPosition(t){return this.minpos+(Math.log(t)-this.minlval)/this.scale}}const AreaInput=t=>{const e=null!==document.querySelector(".ca_area_perspective");document.getElementById("ca_content").classList.toggle("ca_content_perspective");const s=document.getElementsByClassName("ca_area"),o=document.getElementsByClassName("ca_area_selector"),i=o.length;for(let t=0;t<i;++t)s.item(t).classList.toggle("ca_area_perspective"),o.item(t).classList.toggle("ca_selector_perspective");e?document.getElementById(t.replace("select_","")).classList.toggle("ca_area_active"):document.querySelector(".ca_area_active").classList.toggle("ca_area_active")},ScrollLevel=t=>{document.getElementById("ca_grad_down_empty").setAttribute("offset",`${t}%`),document.getElementById("ca_grad_down_fill").setAttribute("offset",`${t}%`),t=100-t,document.getElementById("ca_grad_up_empty").setAttribute("offset",`${t}%`),document.getElementById("ca_grad_up_fill").setAttribute("offset",`${t}%`)},ScrollPosition=t=>{const e=document.body.scrollHeight-window.innerHeight||1;ScrollLevel(Math.floor(t/e*100))},ScrollPage=t=>{const e={left:0,top:window.innerHeight*t,behavior:"smooth"};window.scrollBy(e),ScrollPosition(window.pageYOffset)};window.addEventListener("scroll",t=>{ScrollPosition(window.pageYOffset)});
