

const A_unshift=(t,e)=>{let s=t.length;for(;s;)t[s]=t[s-1],--s;t[0]=e},A_splice=(t,e)=>{let s=t.length;if(s){for(;e<s;)t[e]=t[e+1],++e;--t.length}},A_indexOf=(t,e)=>{for(let s=0,i=t.length;s!=i;s++)if(t[s]===e)return s;return-1},A_lastIndexOf=(t,e)=>{let s=t.length;for(;s--&&t[s]!==e;);return s},A_fill=(t,e)=>{const s=new Array(t);for(;--t>=0;)s[t]=e;return s},DOM_getRootVar=t=>getComputedStyle(document.documentElement).getPropertyValue(t)||"",DOM_setRootVar=(t,e)=>{document.documentElement.style.setProperty(t,e)};function DOM_resetNode(t){for(var e=document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)}const DOM_getStyle=(t,e)=>{let s=document.getElementById(t);return s?window.getComputedStyle(s).getPropertyValue(e):""},DOM_getImgDim=t=>{const e=document.getElementById(t);return{width:e.getAttribute("data-src-width"),height:e.getAttribute("data-src-height")}};class DragElement{constructor(t,e){this.gapX=0,this.gapY=0,this.offsetX=0,this.offsetY=0,this.atX=0,this.atY=0,this.drag_e=t,this.keep_b=e||!1,this.start()}start(){this.drag_e.onmousedown=(t=>(this.loose=!1,this.gapX=t.clientX-this.offsetX,this.gapY=t.clientY-this.offsetY,this.drag_e.addEventListener("mousemove",this,!1),this.drag_e.addEventListener("mouseup",this,!1),!1))}disable(){this.loose=!0}handleEvent(t){return!this.loose&&("mousemove"===t.type?(this.atX=t.clientX-this.gapX,this.atY=t.clientY-this.gapY,this.offsetX=this.atX,this.offsetY=this.atY,this.drag_e.style.transform=`translate3d(${this.atX}px, ${this.atY}px, 0)`,!1):void("mouseup"===t.type&&(this.keep_b||(this.drag_e.removeEventListener("mousemove",this,!0),this.drag_e.removeEventListener("mouseup",this,!0)),this.loose=!0)))}}const RGB_H=(t,e,s)=>{const i=Math.min(t,e,s),o=Math.max(t,e,s);if(o===i)return 0;const r=o-i,a=o===t?(e-s)/r+(e<s?6:0):o===e?(s-t)/r+2:(t-e)/r+4;return Math.floor(60*a)},RGB_S=(t,e,s)=>{const i=Math.min(t,e,s),o=Math.max(t,e,s),r=o-i;if(!r)return 0;const a=i+o;return a>255?r/(510-o-i):r/a},RGB_L=(t,e,s)=>(Math.min(t,e,s)+Math.max(t,e,s))/510,HSL_RGB=(t,e,s)=>{let i,o,r;if(0===e)i=o=r=s;else{const a=(t,e,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<.1666667?t+6*(e-t)*s:s<.5?e:s<.6666667?t+(e-t)*(.6666667-s)*6:t),n=s<.5?s*(1+e):s+e-s*e,l=2*s-n;i=a(l,n,(t/=360)+.3333334),o=a(l,n,t),r=a(l,n,t-.3333334)}return[i,o,r]},H_toMatrix=t=>{let e,s,i,o=DOM_getRootVar("--M3_FE_MATRIX");return t<0?e=s=i=DOM_getRootVar("--M3_FE_MATRIX_GRAY_VALUE"):(rgb_a=HSL_RGB(t,1,.5),e=rgb_a[0]+.5,s=rgb_a[1]+.5,i=rgb_a[2]+.5),o=o.replace("R",e).replace("G",s).replace("B",i)};class DOM_FeColorMatrix{constructor(t,e,s){this._animateID=e||"ca_animate",this._filter_e=document.getElementById(t),this.createMatrix(s)}toMatrix(t){return{from_s:`${t.r0} 0 0 0 0    0 ${t.g0} 0 0 0    0 0 ${t.b0} 0 0    0 0 0 1 0`,to_s:`${t.r1} 0 0 0 0    0 ${t.g1} 0 0 0    0 0 ${t.b1} 0 0    0 0 0 1 0`}}toBegin(t,e){let s=void 0!==e?`${e}s;`:"";return void 0!==t&&(s+=`${t}.end`),s}toDuration(t){return`${t.d}s`}createAnimate(t,e){const s=document.createElementNS("http://www.w3.org/2000/svg","animate");let i,o;return s.setAttribute("id",`${this._animateID}_${t}`),s.setAttribute("attributeType","XML"),s.setAttribute("attributeName","values"),s.setAttribute("dur",this.toDuration(e)),s.setAttribute("repeatCount",1),({from_s:i,to_s:o}=this.toMatrix(e)),s.setAttribute("from",i),s.setAttribute("to",o),s}createMatrix(t){const e=t.length-1;for(let s=0;s<=e;++s){const i=this.createAnimate(s,t[s]),o=0===s?this.toBegin(`${this._animateID}_${e}`,0):this.toBegin(`${this._animateID}_${s-1}`);i.setAttribute("begin",o),this._filter_e.appendChild(i)}}}class LogScale{constructor(t){this.minpos=t.minpos||0,this.minlval=Math.log(t.minval||1),this.maxlval=Math.log(t.maxval||1e5),this.scale=(this.maxlval-this.minlval)/(t.maxpos-this.minpos)}getPosition(t){return this.minpos+(Math.log(t)-this.minlval)/this.scale}}const AreaInput=t=>{const e=null!==document.querySelector(".ca_area_perspective");document.getElementById("ca_content").classList.toggle("ca_content_perspective");const s=document.getElementsByClassName("ca_area"),i=document.getElementsByClassName("ca_area_selector"),o=i.length;for(let t=0;t<o;++t)s.item(t).classList.toggle("ca_area_perspective"),i.item(t).classList.toggle("ca_selector_perspective");e?document.getElementById(t.replace("select_","")).classList.toggle("ca_area_active"):document.querySelector(".ca_area_active").classList.toggle("ca_area_active")},ScrollLevel=t=>{document.getElementById("ca_grad_down_empty").setAttribute("offset",`${t}%`),document.getElementById("ca_grad_down_fill").setAttribute("offset",`${t}%`),t=100-t,document.getElementById("ca_grad_up_empty").setAttribute("offset",`${t}%`),document.getElementById("ca_grad_up_fill").setAttribute("offset",`${t}%`)},ScrollPosition=t=>{const e=document.body.scrollHeight-window.innerHeight||1;ScrollLevel(Math.floor(t/e*100))},ScrollPage=t=>{const e={left:0,top:window.innerHeight*t,behavior:"smooth"};window.scrollBy(e),ScrollPosition(window.pageYOffset)};window.addEventListener("scroll",t=>{ScrollPosition(window.pageYOffset)});


