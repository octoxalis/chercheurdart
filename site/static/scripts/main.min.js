

const A_unshift=(t,e)=>{let o=t.length;for(;o;)t[o]=t[o-1],--o;t[0]=e},A_splice=(t,e)=>{let o=t.length;if(o){for(;e<o;)t[e]=t[e+1],++e;--t.length}},A_indexOf=(t,e)=>{for(let o=0,a=t.length;o!=a;o++)if(t[o]===e)return o;return-1},A_lastIndexOf=(t,e)=>{let o=t.length;for(;o--&&t[o]!==e;);return o},A_fill=(t,e)=>{const o=new Array(t);for(;--t>=0;)o[t]=e;return o},DOM_getRootVar=t=>getComputedStyle(document.documentElement).getPropertyValue(t)||"",DOM_setRootVar=(t,e)=>{document.documentElement.style.setProperty(t,e)};function DOM_resetNode(t){for(var e=document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)}const DOM_getStyle=(t,e)=>{let o=document.getElementById(t);return o?window.getComputedStyle(o).getPropertyValue(e):""},DOM_getImgDim=t=>{const e=document.getElementById(t);return{width:e.getAttribute("data-src-width"),height:e.getAttribute("data-src-height")}},DOM_strimHTML=t=>t.replace(/(<([^>]+)>)/gi,""),DOM_dialog=t=>{if(dialog_e=document.getElementById("ca_modal_dialog"),"function"==typeof dialog_e.showModal){if(t.header&&(document.getElementById("ca_modal_dialog_header").innerHTML=t.header),t.content&&(document.getElementById("ca_modal_dialog_text").innerHTML=t.content+(t.mark?t.mark:"")),void 0===t.options_a)document.getElementById("ca_modal_dialog_options").classList.add("ca_dialog_option_hidden");else{document.getElementById("ca_modal_dialog_options").classList.remove("ca_dialog_option_hidden");const e=document.getElementById("ca_modal_dialog_options").querySelectorAll("li");for(let o=0;o<e.length;++o){const a=e[o].classList.contains("ca_dialog_option_hidden");t.options_a[o]?(e[o].innerHTML=t.options_a[o],e[o].classList.remove("ca_dialog_option_hidden"),e[o].addEventListener("click",()=>{console.log(t.options_a[o])})):a||e[o].classList.add("ca_dialog_option_hidden")}}const e=t.cancel||"cancelled";return document.getElementById("ca_modal_dialog_close").addEventListener("click",()=>{dialog_e.close(e)}),dialog_e.showModal(),void dialog_e.addEventListener("click",t=>{t.target===dialog_e&&dialog_e.close(e)})}const e=t.mark?DOM_strimHTML(t.mark):"";window.alert(`${t.header||""}: ${t.content||""} (${e})`)},DOM_toClipboard=t=>{const e=()=>{t.mark+=" impossible",DOM_dialog(t)};navigator.permissions.query({name:"clipboard-write"}).then(o=>{"granted"==o.state||"prompt"==o.state?navigator.clipboard.writeText(t.content).then(()=>{DOM_dialog(t)},()=>{e()}):e()})},EMAddressToClip=()=>{const t={header:"Adresse pour me contacter",content:((t,e)=>{const o=t=>String.fromCharCode((t<="Z"?90:122)>=(t=t.charCodeAt(0)+13)?t:t-26);return`${t.replace(/[a-zA-Z]/g,o)}@${e.replace(/[a-zA-Z]/g,o)}`})("nqhcva","purepurheq.neg"),mark:'<mark class="ca_modal_dialog_text_mark">(copie dans le presse-papier)</mark>'};DOM_toClipboard(t)};class DragElement{constructor(t,e){this.gapX=0,this.gapY=0,this.offsetX=0,this.offsetY=0,this.atX=0,this.atY=0,this.drag_e=t,this.keep_b=e||!1,this.start()}start(){this.drag_e.onmousedown=(t=>(this.loose=!1,this.gapX=t.clientX-this.offsetX,this.gapY=t.clientY-this.offsetY,this.drag_e.addEventListener("mousemove",this,!1),this.drag_e.addEventListener("mouseup",this,!1),!1))}disable(){this.loose=!0}handleEvent(t){return!this.loose&&("mousemove"===t.type?(this.atX=t.clientX-this.gapX,this.atY=t.clientY-this.gapY,this.offsetX=this.atX,this.offsetY=this.atY,this.drag_e.style.transform=`translate3d(${this.atX}px, ${this.atY}px, 0)`,!1):void("mouseup"===t.type&&(this.keep_b||(this.drag_e.removeEventListener("mousemove",this,!0),this.drag_e.removeEventListener("mouseup",this,!0)),this.loose=!0)))}}const RGB_H=(t,e,o)=>{const a=Math.min(t,e,o),i=Math.max(t,e,o);if(i===a)return 0;const s=i-a,n=i===t?(e-o)/s+(e<o?6:0):i===e?(o-t)/s+2:(t-e)/s+4;return Math.floor(60*n)},RGB_S=(t,e,o)=>{const a=Math.min(t,e,o),i=Math.max(t,e,o),s=i-a;if(!s)return 0;const n=a+i;return n>255?s/(510-i-a):s/n},RGB_L=(t,e,o)=>(Math.min(t,e,o)+Math.max(t,e,o))/510,HSL_RGB=(t,e,o)=>{let a,i,s;if(0===e)a=i=s=o;else{const n=(t,e,o)=>(o<0&&(o+=1),o>1&&(o-=1),o<.1666667?t+6*(e-t)*o:o<.5?e:o<.6666667?t+(e-t)*(.6666667-o)*6:t),r=o<.5?o*(1+e):o+e-o*e,l=2*o-r;a=n(l,r,(t/=360)+.3333334),i=n(l,r,t),s=n(l,r,t-.3333334)}return[a,i,s]},H_toMatrix=t=>{let e,o,a,i=DOM_getRootVar("--M3_FE_MATRIX");return t<0?e=o=a=DOM_getRootVar("--M3_FE_MATRIX_GRAY_VALUE"):(rgb_a=HSL_RGB(t,1,.5),e=rgb_a[0]+.5,o=rgb_a[1]+.5,a=rgb_a[2]+.5),i=i.replace("R",e).replace("G",o).replace("B",a)};class DOM_FeColorMatrix{constructor(t,e,o){this._animateID=e||"ca_animate",this._filter_e=document.getElementById(t),this.createMatrix(o)}toMatrix(t){return{from_s:`${t.r0} 0 0 0 0    0 ${t.g0} 0 0 0    0 0 ${t.b0} 0 0    0 0 0 1 0`,to_s:`${t.r1} 0 0 0 0    0 ${t.g1} 0 0 0    0 0 ${t.b1} 0 0    0 0 0 1 0`}}toBegin(t,e){let o=void 0!==e?`${e}s;`:"";return void 0!==t&&(o+=`${t}.end`),o}toDuration(t){return`${t.d}s`}createAnimate(t,e){const o=document.createElementNS("http://www.w3.org/2000/svg","animate");let a,i;return o.setAttribute("id",`${this._animateID}_${t}`),o.setAttribute("attributeType","XML"),o.setAttribute("attributeName","values"),o.setAttribute("dur",this.toDuration(e)),o.setAttribute("repeatCount",1),({from_s:a,to_s:i}=this.toMatrix(e)),o.setAttribute("from",a),o.setAttribute("to",i),o}createMatrix(t){const e=t.length-1;for(let o=0;o<=e;++o){const a=this.createAnimate(o,t[o]),i=0===o?this.toBegin(`${this._animateID}_${e}`,0):this.toBegin(`${this._animateID}_${o-1}`);a.setAttribute("begin",i),this._filter_e.appendChild(a)}}}class LogScale{constructor(t){this.minpos=t.minpos||0,this.minlval=Math.log(t.minval||1),this.maxlval=Math.log(t.maxval||1e5),this.scale=(this.maxlval-this.minlval)/(t.maxpos-this.minpos)}getPosition(t){return this.minpos+(Math.log(t)-this.minlval)/this.scale}}const AreaInput=t=>{const e=null!==document.querySelector(".ca_area_perspective");document.getElementById("ca_content").classList.toggle("ca_content_perspective");const o=document.getElementsByClassName("ca_area"),a=document.getElementsByClassName("ca_area_selector"),i=a.length;for(let t=0;t<i;++t)o.item(t).classList.toggle("ca_area_perspective"),a.item(t).classList.toggle("ca_selector_perspective");e?document.getElementById(t.replace("select_","")).classList.toggle("ca_area_active"):document.querySelector(".ca_area_active").classList.toggle("ca_area_active")},ScrollLevel=t=>{document.getElementById("ca_grad_down_empty").setAttribute("offset",`${t}%`),document.getElementById("ca_grad_down_fill").setAttribute("offset",`${t}%`),t=100-t,document.getElementById("ca_grad_up_empty").setAttribute("offset",`${t}%`),document.getElementById("ca_grad_up_fill").setAttribute("offset",`${t}%`)},ScrollPosition=t=>{const e=document.body.scrollHeight-window.innerHeight||1;ScrollLevel(Math.floor(t/e*100))},ScrollPage=t=>{const e={left:0,top:window.innerHeight*t,behavior:"smooth"};window.scrollBy(e),ScrollPosition(window.pageYOffset)};window.addEventListener("scroll",t=>{ScrollPosition(window.pageYOffset)});

